SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for gen_data_source_config
-- ----------------------------
DROP TABLE IF EXISTS `gen_data_source_config`;
CREATE TABLE `gen_data_source_config`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据源名称',
  `username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '数据库用户名',
  `password` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '数据库密码',
  `url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据库连接',
  `create_time` datetime(0) NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime(0) NULL DEFAULT NULL COMMENT '删除时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '数据源' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Table structure for gen_template_directory_entry
-- ----------------------------
DROP TABLE IF EXISTS `gen_template_directory_entry`;
CREATE TABLE `gen_template_directory_entry`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NULL DEFAULT NULL COMMENT '模板组Id',
  `file_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '文件夹路径/模板文件名称（支持占位符）',
  `type` tinyint(1) NULL DEFAULT NULL COMMENT '文件类型 1：文件夹 2：模板文件',
  `parent_id` int(11) NULL DEFAULT NULL COMMENT '父级Id',
  `deleted` bigint(255) NULL DEFAULT NULL COMMENT '逻辑删除标识',
  `create_time` datetime(0) NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime(0) NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uk_name_parent_id`(`deleted`, `group_id`, `parent_id`, `file_name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 32 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '模板文件目录项' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of gen_template_directory_entry
-- ----------------------------
INSERT INTO `gen_template_directory_entry` VALUES (1, 1, 'ballcat.src.main', 1, 0, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (2, 1, 'java', 1, 1, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (3, 1, '{packageName}.{moduleName}', 1, 2, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (4, 1, 'controller', 1, 3, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (5, 1, 'service', 1, 3, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (6, 1, 'impl', 1, 5, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (7, 1, 'mapper', 1, 3, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (8, 1, 'model', 1, 3, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (9, 1, 'entity', 1, 8, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (10, 1, 'qo', 1, 8, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (11, 1, 'vo', 1, 8, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (12, 1, 'resources', 1, 1, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (13, 1, 'mapper', 1, 12, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (14, 1, '{moduleName}', 1, 13, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (15, 1, 'ballcat-ui-vue.src', 1, 0, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (16, 1, 'api', 1, 15, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (17, 1, 'views', 1, 15, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (18, 1, '{moduleName}', 1, 16, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (19, 1, '{moduleName}.{classname}', 1, 17, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (20, 1, '{className}Controller.java', 2, 4, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (21, 1, '{className}Service.java', 2, 5, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (22, 1, '{className}ServiceImpl.java', 2, 6, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (23, 1, '{className}Mapper.java', 2, 7, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (24, 1, '{className}.java', 2, 9, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (25, 1, '{className}QO.java', 2, 10, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (26, 1, '{className}VO.java', 2, 11, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (27, 1, '{className}Mapper.xml', 2, 14, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (28, 1, '{classname}.js', 2, 18, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (29, 1, '{className}Page.vue', 2, 19, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (30, 1, '{className}Form.vue', 2, 19, 0, '2020-07-03 16:39:07', NULL);
INSERT INTO `gen_template_directory_entry` VALUES (31, 1, '{className}.sql', 2, 0, 0, '2020-07-03 16:39:07', NULL);

-- ----------------------------
-- Table structure for gen_template_group
-- ----------------------------
DROP TABLE IF EXISTS `gen_template_group`;
CREATE TABLE `gen_template_group`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '名称',
  `remarks` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备注',
  `create_time` datetime(0) NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime(0) NULL DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '模板组' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of gen_template_group
-- ----------------------------
INSERT INTO `gen_template_group` VALUES (1, 'ballcat（0.0.3）', 'v0.0.3 版本，主要是前端表单生成有部分调整', '2020-07-03 16:39:03', NULL);

-- ----------------------------
-- Table structure for gen_template_info
-- ----------------------------
DROP TABLE IF EXISTS `gen_template_info`;
CREATE TABLE `gen_template_info`  (
  `directory_entry_id` int(11) NOT NULL COMMENT '目录项ID',
  `group_id` int(11) NULL DEFAULT NULL COMMENT '模板组ID',
  `title` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '模板标题',
  `content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '模板内容',
  `engine_type` tinyint(1) NULL DEFAULT NULL COMMENT '模板引擎类型 1：velocity',
  `remarks` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备注',
  `deleted` bigint(20) NULL DEFAULT NULL COMMENT '逻辑删除',
  `create_time` datetime(0) NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime(0) NULL DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`directory_entry_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '模板信息' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of gen_template_info
-- ----------------------------
INSERT INTO `gen_template_info` VALUES (20, 1, 'Controller', 'package ${packageName}.${moduleName}.controller;\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.hccake.ballcat.common.core.result.R;\nimport com.hccake.ballcat.commom.log.operation.annotation.CreateOperationLogging;\nimport com.hccake.ballcat.commom.log.operation.annotation.DeleteOperationLogging;\nimport com.hccake.ballcat.commom.log.operation.annotation.UpdateOperationLogging;\nimport ${packageName}.${moduleName}.model.entity.${className};\nimport ${packageName}.${moduleName}.model.qo.${className}QO;\nimport ${packageName}.${moduleName}.model.vo.${className}VO;\nimport ${packageName}.${moduleName}.service.${className}Service;\nimport com.hccake.ballcat.common.core.result.BaseResultCode;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.web.bind.annotation.*;\n\n\n/**\n * ${comments}\n *\n * @author ${author} ${currentTime}\n */\n@RestController\n@RequiredArgsConstructor\n@RequestMapping(\"/${moduleName}/${pathName}\" )\n@Api(value = \"${pathName}\", tags = \"${comments}管理\")\npublic class ${className}Controller {\n\n    private final  ${className}Service ${classname}Service;\n\n    /**\n     * 分页查询\n     * @param page 分页对象\n     * @param ${classname}QO ${comments}查询对象\n     * @return R 通用返回体\n     */\n    @ApiOperation(value = \"分页查询\", notes = \"分页查询\")\n    @GetMapping(\"/page\" )\n    @PreAuthorize(\"@per.hasPermission(\'${moduleName}:${pathName}:read\')\" )\n    public R<IPage<${className}VO>> get${className}Page(\n            Page<?> page, ${className}QO ${classname}QO) {\n        return R.ok(${classname}Service.selectPageVo(page, ${classname}QO));\n    }\n\n    /**\n     * 新增${comments}\n     * @param ${classname} ${comments}\n     * @return R 通用返回体\n     */\n    @ApiOperation(value = \"新增${comments}\", notes = \"新增${comments}\")\n    @CreateOperationLogging(msg = \"新增${comments}\" )\n    @PostMapping\n    @PreAuthorize(\"@per.hasPermission(\'${moduleName}:${pathName}:add\')\" )\n    public Re<?> save(@RequestBody ${className} ${classname}) {\n        return ${classname}Service.save(${classname}) ?\n                R.ok() : R.failed(BaseResultCode.UPDATE_DATABASE_ERROR, \"新增${comments}失败\");\n    }\n\n    /**\n     * 修改${comments}\n     * @param ${classname} ${comments}\n     * @return R 通用返回体\n     */\n    @ApiOperation(value = \"修改${comments}\", notes = \"修改${comments}\")\n    @UpdateOperationLogging(msg = \"修改${comments}\" )\n    @PutMapping\n    @PreAuthorize(\"@per.hasPermission(\'${moduleName}:${pathName}:edit\')\" )\n    public Re<?> updateById(@RequestBody ${className} ${classname}) {\n        return ${classname}Service.updateById(${classname}) ?\n                R.ok() : R.failed(BaseResultCode.UPDATE_DATABASE_ERROR, \"修改${comments}失败\");\n    }\n\n    /**\n     * 通过id删除${comments}\n     * @param ${pk.attrName} id\n     * @return R 通用返回体\n     */\n    @ApiOperation(value = \"通过id删除${comments}\", notes = \"通过id删除${comments}\")\n    @DeleteOperationLogging(msg = \"通过id删除${comments}\" )\n    @DeleteMapping(\"/{${pk.attrName}}\" )\n    @PreAuthorize(\"@per.hasPermission(\'${moduleName}:${pathName}:del\')\" )\n    public Re<?> removeById(@PathVariable ${pk.attrType} ${pk.attrName}) {\n        return ${classname}Service.removeById(${pk.attrName}) ?\n                R.ok() : R.failed(BaseResultCode.UPDATE_DATABASE_ERROR, \"通过id删除${comments}失败\");\n    }\n\n}', 1, '控制层', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (21, 1, 'Service', 'package ${packageName}.${moduleName}.service;\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.extension.service.IService;\nimport ${packageName}.${moduleName}.model.entity.${className};\nimport ${packageName}.${moduleName}.model.vo.${className}VO;\nimport ${packageName}.${moduleName}.model.qo.${className}QO;\n\n/**\n * ${comments}\n *\n * @author ${author} ${currentTime}\n */\npublic interface ${className}Service extends IService<${className}> {\n\n    /**\n    *  根据QueryObeject查询分页数据\n    * @param page 分页参数\n    * @param qo 查询参数对象\n    * @return IPage<${className}VO> 分页数据\n    */\n    IPage<${className}VO> selectPageVo(IPage<?> page, ${className}QO qo);\n\n}', 1, '业务逻辑层', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (22, 1, 'ServiceImpl', 'package ${packageName}.${moduleName}.service.impl;\n\nimport cn.hutool.core.util.ObjectUtil;\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.core.toolkit.Wrappers;\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport ${packageName}.${moduleName}.model.entity.${className};\nimport ${packageName}.${moduleName}.model.vo.${className}VO;\nimport ${packageName}.${moduleName}.model.qo.${className}QO;\nimport ${packageName}.${moduleName}.mapper.${className}Mapper;\nimport ${packageName}.${moduleName}.service.${className}Service;\nimport org.springframework.stereotype.Service;\n\n/**\n * ${comments}\n *\n * @author ${author} ${currentTime}\n */\n@Service\npublic class ${className}ServiceImpl extends ServiceImpl<${className}Mapper, ${className}> implements ${className}Service {\n    private final static String TABLE_ALIAS_PREFIX = \"${tableAlias}.\";\n\n    /**\n    *  根据QueryObeject查询分页数据\n    * @param page 分页参数\n    * @param qo 查询参数对象\n    * @return IPage<${className}VO> 分页数据\n    */\n    @Override\n    public IPage<${className}VO> selectPageVo(IPage<?> page, ${className}QO qo) {\n        QueryWrapper<${className}> wrapper = Wrappers.<${className}>query()\n                .eq(ObjectUtil.isNotNull(qo.get${pk.caseAttrName}()), TABLE_ALIAS_PREFIX + \"${pk.caseAttrName}\", qo.get${pk.caseAttrName}());\n        return baseMapper.selectPageVo(page, wrapper);\n    }\n\n}\n', 1, '业务逻辑层实现类', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (23, 1, 'Mapper', 'package ${packageName}.${moduleName}.mapper;\n\nimport com.baomidou.mybatisplus.core.conditions.Wrapper;\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.core.toolkit.Constants;\nimport ${packageName}.${moduleName}.model.entity.${className};\nimport ${packageName}.${moduleName}.model.vo.${className}VO;\nimport org.apache.ibatis.annotations.Param;\n\n/**\n * ${comments}\n *\n * @author ${author} ${currentTime}\n */\npublic interface ${className}Mapper extends BaseMapper<${className}> {\n\n    /**\n    * 分页查询\n    * @param page 分页对象\n    * @param wrapper 查询wrapper\n    * @return IPage<${className}VO> VO分页数据\n    */\n    IPage<${className}VO> selectPageVo(IPage<?> page, @Param(Constants.WRAPPER) Wrapper<${className}> wrapper);\n}', 1, '数据访问层', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (24, 1, 'Entity', 'package ${packageName}.${moduleName}.model.entity;\n\nimport com.baomidou.mybatisplus.annotation.FieldFill;\nimport com.baomidou.mybatisplus.annotation.TableField;\nimport com.baomidou.mybatisplus.annotation.TableId;\nimport com.baomidou.mybatisplus.annotation.TableName;\nimport com.baomidou.mybatisplus.extension.activerecord.Model;\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\n\n/**\n * ${comments}\n *\n * @author ${author} ${currentTime}\n */\n@Data\n@TableName(\"${tableName}\")\n@EqualsAndHashCode(callSuper = true)\n@ApiModel(value = \"${comments}\")\npublic class ${className} extends Model<${className}> {\nprivate static final long serialVersionUID = 1L;\n\n#foreach ($column in $columns)\n  /**\n   * $column.comments\n   */\n    #if($column.columnName == $pk.columnName)\n    @TableId\n    #elseif($column.columnName == \'create_time\')\n    @TableField(fill = FieldFill.INSERT)\n    #elseif($column.columnName == \'update_time\')\n    @TableField(fill = FieldFill.INSERT_UPDATE)\n    #end\n	@ApiModelProperty(value=\"$column.comments\")\n	private $column.attrType $column.attrName;\n#end\n}\n', 1, '数据实体', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (25, 1, 'QO', 'package ${packageName}.${moduleName}.model.qo;\n\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport lombok.Data;\n\n/**\n * ${comments} 查询对象\n *\n * @author ${author} ${currentTime}\n */\n@Data\n@ApiModel(value = \"${comments}查询对象\")\npublic class ${className}QO  {\n    private static final long serialVersionUID = 1L;\n\n    #foreach ($column in $columns)\n        /**\n         * $column.comments\n         */\n        #if($column.columnName == $pk.columnName)\n            @ApiModelProperty(value=\"$column.comments\")\n            private $column.attrType $column.attrName;\n            #break\n        #end\n    #end\n}', 1, '默认数据查询对象', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (26, 1, 'VO', 'package ${packageName}.${moduleName}.model.entity;\n\nimport com.baomidou.mybatisplus.extension.activerecord.Model;\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\n    #if(${hasBigDecimal})\n    import java.math.BigDecimal;\n    #end\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\n\n/**\n * ${comments}\n *\n * @author ${author} ${currentTime}\n */\n@Data\n@ApiModel(value = \"${comments}\")\npublic class ${className}VO {\n    private static final long serialVersionUID = 1L;\n\n    #foreach ($column in $columns)\n        /**\n         * $column.comments\n         */\n        @ApiModelProperty(value=\"$column.comments\")\n        private $column.attrType $column.attrName;\n    #end\n}', 1, '默认数据视图对象', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (27, 1, 'Mapper.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"${packageName}.${moduleName}.mapper.${className}Mapper\">\n\n  <resultMap id=\"${classname}Map\" type=\"${packageName}.${moduleName}.model.entity.${className}\">\n    #foreach($column in $columns)\n      #if($column.attrName==$pk.attrName)\n        <id property=\"${pk.attrName}\" column=\"${pk.columnName}\"/>\n      #else\n        <result property=\"${column.attrName}\" column=\"${column.columnName}\"/>\n      #end\n    #end\n  </resultMap>\n\n  <sql id=\"Base_Column_List\" >\n    #foreach($column in $columns)${column.columnName}#if($foreach.hasNext), #end#end\n  </sql>\n\n  <sql id=\"Base_Alias_Column_List\">\n    #foreach($column in $columns)${tableAlias}.${column.columnName}#if( $foreach.hasNext ), #end#end\n  </sql>\n\n  <select id=\"selectPageVo\" resultType=\"${packageName}.${moduleName}.model.vo.${className}VO\">\n    SELECT\n    <include refid=\"Base_Alias_Column_List\"/>\n    FROM\n    ${tableName} ${tableAlias}\n    ${ew.customSqlSegment}\n  </select>\n</mapper>', 1, 'Mybatis Mapper Xml', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (28, 1, 'api.js', 'import { axios } from \'@/utils/request\'\n\nexport function getPage(query) {\n  return axios({\n    url: \'/${moduleName}/${pathName}/page\',\n    method: \'get\',\n    params: query\n  })\n}\n\nexport function addObj(obj) {\n  return axios({\n    url: \'/${moduleName}/${pathName}\',\n    method: \'post\',\n    data: obj\n  })\n}\n\nexport function delObj(id) {\n  return axios({\n    url: \'/${moduleName}/${pathName}/\' + id,\n    method: \'delete\'\n  })\n}\n\nexport function putObj(obj) {\n  return axios({\n    url: \'/${moduleName}/${pathName}\',\n    method: \'put\',\n    data: obj\n  })\n}', 1, 'Axios 访问方法', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (29, 1, 'Page.vue', '<template>\r\n  <div>\r\n    <a-card v-show=\"tableShow\" :bordered=\"false\">\r\n      <!-- 查询条件 -->\r\n      <div class=\"table-page-search-wrapper\">\r\n        <a-form layout=\"inline\">\r\n          <a-row :gutter=\"48\">\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"ID\">\r\n                <a-input v-model=\"queryParam.${pk.attrName}\" placeholder=\"\"/>\r\n              </a-form-item>\r\n            </a-col>\r\n\r\n            <!-- <template v-if=\"advanced\">\r\n             </template>-->\r\n            <a-col :md=\"!advanced && 8 || 24\" :sm=\"24\">\r\n              <span class=\"table-page-search-submitButtons\"\r\n                    :style=\"advanced && { float: \'right\', overflow: \'hidden\' } || {} \">\r\n                <a-button type=\"primary\" @click=\"reloadTable\">查询</a-button>\r\n                <a-button style=\"margin-left: 8px\" @click=\"resetSearchForm\">重置</a-button>\r\n                <!--<a @click=\"toggleAdvanced\" style=\"margin-left: 8px\">\r\n                  {{ advanced ? \'收起\' : \'展开\' }}\r\n                  <a-icon :type=\"advanced ? \'up\' : \'down\'\"/>\r\n                </a>-->\r\n              </span>\r\n            </a-col>\r\n          </a-row>\r\n        </a-form>\r\n      </div>\r\n\r\n      <!-- 操作按钮区域 -->\r\n      <div class=\"table-operator\">\r\n        <a-button v-has=\"\'${moduleName}:${pathName}:add\'\" type=\"primary\" icon=\"plus\" @click=\"handleAdd()\">新建</a-button>\r\n      </div>\r\n\r\n      <!--数据表格区域-->\r\n      <div class=\"table-wrapper\">\r\n        <a-table\r\n                ref=\"table\"\r\n                size=\"middle\"\r\n                :rowKey=\"rowKey\"\r\n                :columns=\"columns\"\r\n                :dataSource=\"dataSource\"\r\n                :pagination=\"pagination\"\r\n                :loading =\"loading\"\r\n                @change=\"handleTableChange\"\r\n        >\r\n          <template slot=\"action-slot\" slot-scope=\"text, record\">\r\n            <a v-has=\"\'${moduleName}:${pathName}:edit\'\" @click=\"handleEdit(record)\">编辑</a>\r\n            <a-divider type=\"vertical\"/>\r\n            <a-popconfirm v-has=\"\'${moduleName}:${pathName}:del\'\"\r\n                          title=\"确认要删除吗？\"\r\n                          @confirm=\"() => handleDel(record)\">\r\n              <a href=\"javascript:;\">删除</a>\r\n            </a-popconfirm>\r\n          </template>\r\n        </a-table>\r\n      </div>\r\n    </a-card>\r\n\r\n    <!--表单页面-->\r\n    <a-card v-if=\"formInited\" :bordered=\"false\" :title=\"cardTitle\" v-show=\"!tableShow\">\r\n      <form-page  ref=\"formPage\" @backToPage=\"backToPage\"></form-page>\r\n    </a-card>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { getPage, delObj } from \'@/api/${moduleName}/${pathName}\'\r\n  import FormPage from \'./${className}Form\'\r\n  import { TablePageMixin } from \'@/mixins\'\r\n\r\n  export default {\r\n    name: \'${className}Page\',\r\n    mixins: [TablePageMixin],\r\n    components: { FormPage },\r\n    data () {\r\n      return {\r\n        getPage: getPage,\r\n        delObj: delObj,\r\n\r\n        columns: [\r\n          #foreach ($column in $columns)\r\n            #if($column.columnName != \'create_time\' && $column.columnName != \'update_time\')\r\n              #if($column.columnName == \'id\')\r\n                {\r\n                  title: \'#\',\r\n                  dataIndex: \'$column.attrName\',\r\n                },\r\n              #else\r\n                {\r\n                  title: \'$column.comments\',\r\n                  dataIndex: \'$column.attrName\',\r\n                },\r\n              #end\r\n            #end\r\n          #end\r\n          {\r\n            title: \'创建时间\',\r\n            dataIndex: \'createTime\',\r\n            width: \'150px\',\r\n            sorter: true\r\n          },\r\n          {\r\n            title: \'更新时间\',\r\n            dataIndex: \'updateTime\',\r\n            width: \'150px\',\r\n            sorter: true\r\n          },\r\n          {\r\n            title: \'操作\',\r\n            dataIndex: \'action\',\r\n            width: \'150px\',\r\n            scopedSlots: { customRender: \'action-slot\' }\r\n          }\r\n        ],\r\n      }\r\n    },\r\n    methods: {\r\n\r\n    }\r\n  }\r\n</script>', 1, '查询页面', 0, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_info` VALUES (30, 1, 'Form.vue', '<template>\n  <a-form @submit=\"handleSubmit\" :form=\"form\">\n\n    #foreach ($column in $columns)\n      #if($column.columnName == $pk.attrName)\n        <a-form-item v-if=\"formAction === this.FORM_ACTION.UPDATE\" style=\"display: none\">\n          <a-input v-decorator=\"[\'${pk.attrName}\']\"/>\n        </a-form-item>\n\n      #elseif($column.columnName != \"create_time\" && $column.columnName != \"update_time\")\n        <a-form-item label=\"$column.comments\"\n                     :labelCol=labelCol\n                     :wrapperCol=wrapperCol>\n          <a-input placeholder=\"$column.comments\"\n                   v-decorator=\"[\'$column.attrName\']\" />\n        </a-form-item>\n\n      #end\n    #end\n\n    <div v-show=\"formAction === this.FORM_ACTION.UPDATE\">\n      <a-form-item\n              label=\"创建时间\"\n              :labelCol=labelCol\n              :wrapperCol=wrapperCol>\n        <span>{{ displayData.createTime }}</span>\n      </a-form-item>\n      <a-form-item\n              label=\"修改时间\"\n              :labelCol=labelCol\n              :wrapperCol=wrapperCol>\n        <span>{{ displayData.updateTime }}</span>\n      </a-form-item>\n    </div>\n    <a-form-item\n            :wrapperCol=\"{offset: 3 }\"\n    >\n      <a-button htmlType=\"submit\" type=\"primary\" :loading=\"submitLoading\">提交</a-button>\n      <a-button style=\"margin-left: 8px\" @click=\"backToPage(false)\">取消</a-button>\n    </a-form-item>\n  </a-form>\n</template>\n\n<script>\n  import { FormPageMixin } from \'@/mixins\'\n  import { addObj, putObj } from \'@/api/${moduleName}/${pathName}\'\n\n  export default {\n    name: \'${className}FormPage\',\n    mixins: [FormPageMixin],\n    data () {\n      return {\n        reqFunctions: {\n          create: addObj,\n          update: putObj\n        },\n\n        // 校验配置\n        decoratorOptions: {},\n      }\n    },\n    methods: {\n    }\n  }\n</script>', 1, '新建和修改使用的表单页面', 0, '2020-07-03 16:39:08', '2020-07-03 16:40:04');
INSERT INTO `gen_template_info` VALUES (31, 1, 'permissionSql', '## 备注： 变量的使用方法，是mysql语法，基础生成部分是全数据库通用，若数据源非mysql，请只执行基础生成sql\nSTART TRANSACTION;\n\n-- 目录ID\nset @pId = 目录ID;\n-- 菜单ID\nset @menuId = 菜单ID;\n\n## -----------------基础生成部分start-------------\n-- 插入菜单\nINSERT INTO `sys_permission`\n    (`id`, `parent_id`, `title`, `code`, `path`, `router_name`, `component`, `redirect`,  `icon`, `sort`, `keep_alive`, `hidden`, `type`, `deleted`, `create_time`, `update_time`)\nVALUES\n    (@menuId, @pId, \'${comments}\', NULL, \'/${moduleName}/${pathName}\', \'${classname}\', \'${moduleName}/${pathName}/${className}Page\', NULL, NULL, 1, 0, 0, 1, 0, NULL, \'2019-10-13 22:00:24\');\n\n\n-- 菜单对应按钮SQL\nINSERT INTO `sys_permission` ( `id`, `parent_id`,`title`, `code`, `sort`, `type`, `deleted`, `create_time`, `update_time` )\nVALUES\n( @menuId + 1, @menuId, \'${comments}查询\', \'${moduleName}:${pathName}:read\',  0, 2, 0, \'2019-10-13 22:00:24\', NULL );\n\n\nINSERT INTO `sys_permission` ( `id`, `parent_id`,`title`, `code`, `sort`, `type`, `deleted`, `create_time`, `update_time` )\nVALUES\n( @menuId + 2, @menuId, \'${comments}新增\', \'${moduleName}:${pathName}:add\',  1, 2, 0, \'2019-10-13 22:00:24\', NULL );\n\nINSERT INTO `sys_permission` ( `id`, `parent_id`,`title`, `code`, `sort`, `type`, `deleted`, `create_time`, `update_time` )\nVALUES\n( @menuId + 3, @menuId, \'${comments}修改\', \'${moduleName}:${pathName}:edit\', 2, 2, 0, \'2019-10-13 22:00:24\', NULL );\n\nINSERT INTO `sys_permission` ( `id`, `parent_id`,`title`, `code`, `sort`, `type`, `deleted`, `create_time`, `update_time` )\nVALUES\n( @menuId + 4, @menuId, \'${comments}删除\', \'${moduleName}:${pathName}:del\', 3, 2, 0, \'2019-10-13 22:00:24\', NULL );\n\n## -----------------基础生成部分end-------------\n\n-- 清空变量\nset @menuId = null;\nset @pId = null;\n\nCOMMIT;', 1, '权限sql', 0, '2020-07-03 16:39:08', NULL);

-- ----------------------------
-- Table structure for gen_template_property
-- ----------------------------
DROP TABLE IF EXISTS `gen_template_property`;
CREATE TABLE `gen_template_property`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `group_id` int(11) NULL DEFAULT NULL COMMENT '模板组ID',
  `title` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '标题',
  `prop_key` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '属性键',
  `default_value` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '默认值',
  `required` tinyint(1) NULL DEFAULT NULL COMMENT '必填，1：是，0：否',
  `remarks` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备注信息',
  `create_time` datetime(0) NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime(0) NULL DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uk_group_id_prop_key`(`group_id`, `prop_key`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 4 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '模板属性配置' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of gen_template_property
-- ----------------------------
INSERT INTO `gen_template_property` VALUES (1, 1, '包名', 'packageName', 'com.hccake.ballcat', 1, NULL, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_property` VALUES (2, 1, '作者', 'author', 'hccake', 1, NULL, '2020-07-03 16:39:08', NULL);
INSERT INTO `gen_template_property` VALUES (3, 1, '模块名', 'moduleName', NULL, 1, '纯字母', '2020-07-03 16:39:08', NULL);

SET FOREIGN_KEY_CHECKS = 1;
